- Dafny 
  - TopDecl > DatatypeDecl 
    - DatatypeName > "Pair"
    - DatatypeMemberDecl 
      - DatatypeMemberName > "Pair"
      - FormalsOptionalIds 
        - TypeIdentOptional 
          - NoUSIdentOrDigits > "first"
          - Type > "int"
        - TypeIdentOptional 
          - NoUSIdentOrDigits > "second"
          - Type > "int"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "make_rat"
    - Formals 
      - GIdentType > IdentType 
        - WildIdent > "n"
        - Type > "int"
      - GIdentType > IdentType 
        - WildIdent > "d"
        - Type > "int"
    - Type > NameSegmentForTypeName > Ident > "Pair"
    - FucntionSpec > EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "make_rat"
        - Suffix > Expressions 
          - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n"
          - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "d"
      - RelOp > "== "
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "Pair"
        - Suffix > Expressions 
          - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n"
          - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "d"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
      - NameSegment > Ident > "Pair"
      - Suffix > Expressions 
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n"
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "d"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "numer"
    - Formals > GIdentType > IdentType 
      - WildIdent > "n"
      - Type > NameSegmentForTypeName > Ident > "Pair"
    - Type > "int"
    - FucntionSpec > EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "numer"
        - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n"
      - RelOp > "== "
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "n"
        - Suffix > DotSuffix > "first"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
      - NameSegment > Ident > "n"
      - Suffix > DotSuffix > "first"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "denom"
    - Formals > GIdentType > IdentType 
      - WildIdent > "n"
      - Type > NameSegmentForTypeName > Ident > "Pair"
    - Type > "int"
    - FucntionSpec > EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "denom"
        - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n"
      - RelOp > "== "
      - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
        - NameSegment > Ident > "n"
        - Suffix > DotSuffix > "second"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
      - NameSegment > Ident > "n"
      - Suffix > DotSuffix > "second"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "eq"
    - Formals 
      - GIdentType > IdentType 
        - WildIdent > "n1"
        - Type > NameSegmentForTypeName > Ident > "Pair"
      - GIdentType > IdentType 
        - WildIdent > "n2"
        - Type > NameSegmentForTypeName > Ident > "Pair"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
      - ShiftTerm > Term > Factor 
        - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "numer"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
        - MulOp > "*"
        - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "denom"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
      - RelOp > "== "
      - ShiftTerm > Term > Factor 
        - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "numer"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
        - MulOp > "*"
        - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "denom"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "add_rat"
    - Formals 
      - GIdentType > IdentType 
        - WildIdent > "n1"
        - Type > NameSegmentForTypeName > Ident > "Pair"
      - GIdentType > IdentType 
        - WildIdent > "n2"
        - Type > NameSegmentForTypeName > Ident > "Pair"
    - Type > NameSegmentForTypeName > Ident > "Pair"
    - FucntionSpec 
      - EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
        - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "numer"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "add_rat"
            - Suffix > Expressions 
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
        - RelOp > "== "
        - ShiftTerm > Term 
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
          - AddOp > "+"
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
      - EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
        - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "denom"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "add_rat"
            - Suffix > Expressions 
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
        - RelOp > "== "
        - ShiftTerm > Term > Factor 
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
          - MulOp > "*"
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
      - NameSegment > Ident > "Pair"
      - Suffix > Expressions 
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term 
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
          - AddOp > "+"
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor 
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
          - MulOp > "*"
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
  - TopDecl > ClassMemberDecl > FunctionDecl 
    - MethodFunctionName > "sub_rat"
    - Formals 
      - GIdentType > IdentType 
        - WildIdent > "n1"
        - Type > NameSegmentForTypeName > Ident > "Pair"
      - GIdentType > IdentType 
        - WildIdent > "n2"
        - Type > NameSegmentForTypeName > Ident > "Pair"
    - Type > NameSegmentForTypeName > Ident > "Pair"
    - FucntionSpec 
      - EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
        - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "numer"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "add_rat"
            - Suffix > Expressions 
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
        - RelOp > "== "
        - ShiftTerm > Term 
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
          - AddOp > "+"
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
      - EnsuresClause > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression 
        - ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
          - NameSegment > Ident > "denom"
          - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "add_rat"
            - Suffix > Expressions 
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
              - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
        - RelOp > "== "
        - ShiftTerm > Term > Factor 
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
          - MulOp > "*"
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
    - FunctionBody > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
      - NameSegment > Ident > "Pair"
      - Suffix > Expressions 
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term 
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
          - AddOp > "+"
          - Factor 
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "numer"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
            - MulOp > "*"
            - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
              - NameSegment > Ident > "denom"
              - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
        - Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor 
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n1"
          - MulOp > "*"
          - BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression 
            - NameSegment > Ident > "denom"
            - Suffix > Expressions > Expression > EquivExpression > ImpliesExpression > LogicalExpression > RelationalExpression > ShiftTerm > Term > Factor > BitvectorFactor > AsExpression > UnaryExpression > PrimaryExpression > NameSegment > Ident > "n2"
  - EOI > ""
